(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RNiq:function(e,t,a){"use strict";a.r(t);var n=a("ln6h"),r=a.n(n),c=a("O40h"),l=a("q1tI"),i=a.n(l),s=a("dfwq"),o=a("0iUn"),d=a("sLSF"),u=a("MI3g"),p=a("a7VT"),m=a("Tit0"),h=a("YFqc"),f=a.n(h),E=a("bMwp"),g=a("Z69C"),v=a("Qi1R"),b=a("GRpk"),y=function(){return i.a.createElement(b.a,{height:80,width:400},i.a.createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"90",height:"65"}),i.a.createElement("rect",{x:"100",y:"0",rx:"3",ry:"3",width:"200",height:"17"}),i.a.createElement("rect",{x:"100",y:"20",rx:"3",ry:"3",width:"300",height:"12"}),i.a.createElement("rect",{x:"100",y:"35",rx:"3",ry:"3",width:"300",height:"12"}),i.a.createElement("rect",{x:"100",y:"50",rx:"3",ry:"3",width:"250",height:"12"}))},w=function(e){function t(e){var a;return Object(o.default)(this,t),(a=Object(u.default)(this,Object(p.default)(t).call(this,e))).state={loadState:!1,loadEnd:!1,page:1,loadText:Object(v.e)("loadMore"),posts:[]},a}return Object(m.default)(t,e),Object(d.default)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.byPage({page:this.state.page}).then(function(t){e.setState(function(){return{posts:t}})})}},{key:"loadMore",value:function(){var e=this;this.state.loadState||(this.setState(function(){return{loadState:!0,loadText:Object(v.e)("loading")}}),E.a.byPage({page:this.state.page+1}).then(function(t){e.setState(function(e){return{loadState:!1,loadText:Object(v.e)("loadMore"),loadEnd:t.length<g.post.pageSize,page:e.page,posts:[].concat(Object(s.default)(e.posts),Object(s.default)(t))}})}))}},{key:"render",value:function(){var e=this.state,t=e.posts,a=e.loadText,n=e.loadEnd;return t.length?i.a.createElement("div",{className:"post-list"},t.map(function(e){return i.a.createElement("div",{key:e.id,className:"post-item"},i.a.createElement(f.a,{href:"post?id=".concat(e.id)},i.a.createElement("a",null,i.a.createElement("div",{className:"poster",title:e.title,style:{backgroundImage:"url(".concat(e.poster||g.images.poster||"/static/poster.png",")")}}))),i.a.createElement("div",{className:"content"},i.a.createElement(f.a,{href:"post?id=".concat(e.id)},i.a.createElement("a",{className:"title",title:e.title},e.title)),i.a.createElement("div",{className:"excerpt"},e.excerpt)),i.a.createElement("div",{className:"time",title:Object(v.a)(e.created_at)},Object(v.c)(e.created_at)),i.a.createElement("div",{className:"tags"},e.tags.map(function(e){return i.a.createElement("span",{className:"tag"},"#",e)})))}),n?i.a.createElement("div",{className:"loadEnd"},Object(v.e)("loadEnd")):i.a.createElement("div",{className:"loadMore",onClick:this.loadMore.bind(this)},a)):i.a.createElement("div",{className:"post-list"},i.a.createElement(y,null),i.a.createElement(y,null),i.a.createElement(y,null))}}]),t}(i.a.Component),x=function(e){var t=e.query;return i.a.createElement("div",{className:"page page-index"},i.a.createElement(w,{query:t}))};x.getInitialProps=function(){var e=Object(c.default)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,e.abrupt("return",{query:a});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();t.default=x},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){var e=a("RNiq");return{page:e.default||e}}])}},[["vlRD",1,0]]]);